---
layout:     post
title:      éƒ¨ç½²running_page
subtitle:   å°ç™½æ•™ç¨‹
date:       2023-11-07
author:     Luo
header-img: img/post-bg-running2.jpg
catalog: true
tags:
    - Blog
---

> æ­£æ‰€è°“å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ã€‚
> 
> æ„Ÿè°¢å¤§ç¥[yihong0618](https://github.com/yihong0618/running_page)åˆ¶ä½œçš„éå¸¸æ£’çš„é¡¹ç›®ã€‚
> 
> [æˆ‘çš„è·‘æ­¥ä¸»é¡µ](https://mrluoh.github.io/running_page/)

# å‰è¨€
æˆ‘ä»2015å¹´å¼€å§‹è·‘æ­¥å°±ç”¨çš„NRCæ¥è®°å½•æ•°æ®ï¼Œå‰å¹´NRCä¸­å›½åŒºåœæ­¢è¿è¡Œã€‚å¼€å§‹è½¬ç”¨Garminè®¾å¤‡ï¼Œä¸€ç›´æƒ³ç€æŠŠNRCçš„æ•°æ®åˆå¹¶ï¼Œä»Garminç½‘é¡µç«¯ä¸Šä¼ GPXï¼Œå§‹ç»ˆåªèƒ½æˆåŠŸä¸€åŠ......ç»ˆäºåœ¨ç½‘ä¸Šæ‰¾åˆ°running_pageé¡¹ç›®å¯ä»¥å®ç°æˆ‘çš„æƒ³æ³•ï¼Œå¹¶ä¸”é¡µé¢éå¸¸å¥½çœ‹ã€‚ä½†æ˜¯çœ‹åˆ°é¡¹ç›®åï¼Œå®Œå…¨ä¸æ‡‚ç¼–ç¨‹çš„æˆ‘å¾ˆå¿«å°±æ”¾å¼ƒäº†ï¼Œç›´åˆ°ä»Šå¹´åœ¨Youtubeä¸Šçœ‹åˆ°[@weitungwang](https://www.youtube.com/watch?v=reLiY9p8EJk)åˆ¶ä½œçš„æ•™ç¨‹ï¼Œå¹¶åœ¨ä»–çƒ­å¿ƒå¸®åŠ©ä¸‹ï¼Œå†å°½è‰°è¾›ğŸ˜‚ç»ˆäºæŠŠæˆ‘çš„è·‘æ­¥é¡µé¢[Mr'Luo Running_Page](https://mrluoh.github.io/running_page/)æ­å»ºå‡ºæ¥äº†ã€‚ã€‚ã€‚

æœ¬æ•™ç¨‹é’ˆå¯¹çš„æ˜¯ä¸æ‡‚æŠ€æœ¯åˆæƒ³æ­å»ºçš„å°ç™½ï¼Œä¹Ÿæ˜¯è‡ªå·±å†å¤ä¹ ä¸€éã€‚

[é¡¹ç›®Readme](https://github.com/yihong0618/running_page/blob/master/README-CN.md)
# å°ç™½å¼€å§‹ï¼ˆWindowsç³»ç»Ÿï¼‰

### å‡†å¤‡å·¥ä½œï¼šæ³¨å†ŒGithubè´¦å·ï¼Œä¸‹è½½å¹¶å®‰è£…ï¼šGitï¼›Nodeï¼›pythonï¼›Github Desktopï¼›
pythonå®‰è£…åè¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¸æ‡‚å¾—è¯å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢æ•™ç¨‹ã€‚

### 1ï¼Œå°†Gitã€Pythonã€Github Desktop3ä¸ªå®‰è£…ç¨‹åºæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼›

### 2ï¼Œé¼ æ ‡å³é”®ï¼Œå†ç‚¹å‡»Git Bash Hereï¼›å‡ºç°ä»£ç æ¡†å

è¾“å…¥ç¬¬ä¸€è¡Œä»£ç ï¼š

git clone https://github.com/yihong0618/running_page.git --depth=1  (å…‹éš†ä»“åº“)

### 3ï¼ŒæˆåŠŸåå‡ºç°running_pageçš„æ–‡ä»¶å¤¹ï¼›å†è¾“å…¥ï¼šcd running_page ï¼ˆè¿›å…¥æ–‡ä»¶å¤¹ï¼‰

ä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä¸‰è¡Œä»£ç ï¼š

pip3 install -r requirements.txt

yarn install  ï¼ˆè¿™æ˜¯ä¹‹å‰çš„å‘½ä»¤ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚ç°åœ¨ä½œè€…æ›´æ–°äº†ä»£ç ï¼Œä½†æ˜¯æˆ‘æ€»æ˜¯æŠ¥é”™ä¸çŸ¥é“å“ªé‡Œæœ‰é—®é¢˜ï¼‰

yarn develop

è¿è¡ŒæˆåŠŸåä¼šå‡ºç° http://localhost:5173/ å•å‡»æŸ¥çœ‹

### 4ï¼Œè¿›å…¥running_page/assets/åˆ é™¤å¸¦å¹´ä»½çš„2012.....2023 svgæ–‡ä»¶ã€‚

### 5ï¼Œæ‹‰å–è‡ªå·±çš„æ•°æ®ï¼ˆæˆ‘ä»¥Garminä¸ºä¾‹ï¼‰ï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼Œè·å¾—Garminçš„secretï¼ˆä¸€å¤§å †å­—æ¯æ•°å­—ï¼‰ï¼Œå¤åˆ¶ä¿å­˜ã€‚

1ï¼‰python run_page/get_garmin_secret.py {ä½ çš„Garminé‚®ç®±} {å¯†ç }Â 

2ï¼‰python run_page/garmin_sync.py {ä½ çš„secret(å°±æ˜¯ä¸€å¤§å †å­—æ¯æ•°å­—)}

### 6ï¼Œç”Ÿæˆè‡ªå·±çš„è·‘æ­¥æ•°æ®ï¼Œä¾æ¬¡è¿è¡Œä»¥ä¸‹ä»£ç 

python run_page/gen_svg.py --from-db --title "*ä½ çš„åå­—*" --type github --athlete "*åå­—*" --special-distance 10 --special-distance2 20 --special-color yellow --special-color2 red --output assets/github.svg --use-localtime --min-distance 0.5  (æ”¹æˆè‡ªå·±çš„åå­—)

python run_page/gen_svg.py --from-db --title â€œRunning Route Map" --type grid --athlete â€œ*ä½ çš„åå­—*"  --output assets/grid.svg --min-distance 10.0 --special-color yellow --special-color2 red --special-distance 20 --special-distance2 40 --use-localtim (å¤§äº10KMçš„å±•ç¤º)

python run_page/gen_svg.py --from-db --type circular --use-localtime (ç”Ÿæˆå¹´åº¦ç¯å½¢æ•°æ®)

yarn developï¼ˆå‘å¸ƒï¼‰

### **åˆ°è¿™é‡Œè¿™æ—¶å·²ç»æˆåŠŸä¸€åŠäº†ğŸ˜„ï¼Œæ¥ä¸‹æ¥æ˜¯å‘å¸ƒåˆ°ç½‘é¡µç«¯/ä¸ªæ€§åŒ–è®¾ç½®/è‡ªåŠ¨åŒ–è®¾ç½®**

### å‘å¸ƒåˆ°ç½‘é¡µç«¯

ä½¿ç”¨Github DesktopåŒæ­¥ä»“åº“ï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œç½‘ä¸Šæœæ•™ç¨‹ã€‚

### ä¸ªæ€§åŒ–è®¾ç½®

### åœ¨github/workflows/run_data_sync.ymlï¼Œä¿®æ”¹ï¼šåå­—/ä½¿ç”¨çš„APP/GitHubé‚®ç®±

ä¾‹:

  #### RUN_TYPE: *garmin* # support strava/nike/garmin/garmin_cn/keep/....  
  ATHLETE: *ç½‘ç«™æ ‡é¢˜*  
  TITLE: Ron Running
  MIN_GRID_DISTANCE: 10            # change min distance here  
  TITLE_GRID: Over 10km Runs       # also here  
  GITHUB_NAME: *ä½ çš„GitHubåå­—*     # change to yours   
  GITHUB_EMAIL: *ä½ çš„GitHubé‚®ç®±*  # change to yours   

  #### åœ¨src/utilsä¿®æ”¹ä¸ºconst USE_DASH_LINE = false; ï¼ˆåœ°å›¾ä¸Šæ˜¾ç¤ºä¸ºå®çº¿ï¼Œå¦åˆ™ä¸ºè™šçº¿ï¼‰

  #### åœ¨ä»“åº“ç›®å½•ä¸‹æ‰¾åˆ° src/static/site-metadata.tsï¼Œæ‰¾åˆ°ä»¥ä¸‹å†…å®¹å¹¶ä¿®æ”¹æˆä½ è‡ªå·±æƒ³è¦çš„ã€‚

  siteTitle: 'Running Page', #ç½‘ç«™æ ‡é¢˜

  siteUrl: 'https://yihong.run', #ç½‘ç«™åŸŸå

  logo: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTtc69JxHNcmN1ETpMUX4dozAgAN6iPjWalQ&usqp=CAU', #å·¦ä¸Šè§’ LOGOå›¾ç‰‡

  description: 'Personal site and blog',

  name: 'Blog', #å³ä¸Šè§’å¯¼èˆªåç§°

  url: 'https://yihong.run/running', #å³ä¸Šè§’å¯¼èˆªé“¾æ¥

  name: 'About', url: 'https://github.com/yihong0618/running_page/blob/master/README-CN.md',

### è‡ªåŠ¨åŒ–è®¾ç½® è§†é¢‘æ•™ç¨‹è¯·çœ‹[@weitungwang](https://www.youtube.com/watch?v=reLiY9p8EJk)

1.è·å–TOKEN

åœ¨GitHubé¡µé¢ï¼Œç‚¹å‡»å¤´åƒâ¡Settings(è®¾ç½®)â¡Developer Settings(å¼€å‘è€…è®¾ç½®)â¡ç”ŸæˆTOKENâ¡å¼¹å‡ºç½‘é¡µé‡Œç¬¬ä¸€ä¸ªç©ºæ ¼å¡«â€œSyncâ€ï¼Œç¬¬äºŒé¡¹é€‰æ— é™æœŸï¼Œå…¶ä½™å…¨éƒ¨å‹¾é€‰â¡ç”ŸæˆTOKEN(å¤åˆ¶ä¿å­˜ä¸‹æ¥)

2.è¿è¡Œé¡µé¢ï¼Œç‚¹å‡»Settings(è®¾ç½®)â¡Secrets and variablesâ¡é€‰æ‹©Actionsâ¡New secretâ¡Nameï¼šemailï¼›secretï¼šXXX@XXX(ä½ çš„APPæ³¨å†Œé‚®ç®±)â¡å†æ·»åŠ Nameï¼šPASSWORDï¼›secretï¼šä½ çš„é‚®ç®±å¯†ç â¡Nameï¼šTokenï¼›secretï¼šåˆšæ‰å¤åˆ¶çš„tokenå€¼ï¼›

3.è¿è¡Œé¡µé¢ï¼Œç‚¹å‡»Actionsâ¡Run Data Sync(è¿è¡Œå®Œåè¿›å…¥ä¸‹ä¸€æ­¥)â¡Publish Github Pages;

## è‡³æ­¤å¤§åŠŸå‘Šæˆ

header-img:img/20231107.jpg

#### æ­å»ºè¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸å°‘é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ç½‘ä¸Šæœç´¢æ¥è§£å†³ï¼Œå¦å¤–ä¿®æ”¹ä¸ªæ€§åŒ–è®¾ç½®æ—¶ï¼Œå¤åˆ¶é»è´´å®¹æ˜“äº§ç”Ÿå¤šä½™çš„ç©ºæ ¼é€ æˆè¯­æ³•é—®é¢˜ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è¿˜æœ‰å°±æ˜¯è¯¯åˆ æˆ–è€…å¢åŠ å­—æ¯é€ æˆé”™è¯¯ã€‚

è§£å†³ä¸äº†çš„é—®é¢˜å¯ä»¥åŠ å…¥[running_pageç”µæŠ¥ç¾¤](https://t.me/running_page)ç•™è¨€ï¼Œç¾¤é‡Œçƒ­å¿ƒçš„å¤§ä½¬ä¼šçƒ­å¿ƒå¸®åŠ©å’ŒæŒ‡å¯¼ã€‚
